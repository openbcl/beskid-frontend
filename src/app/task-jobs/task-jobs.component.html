<p-panel class="be-panel-jobs" header="Task Jobs In Queue">
  @if(jobs$ | async; as jobs) {
    @if(breakpoint$ | async; as breakpoint) {
      <p-table *beRecreateViewKey="breakpoint" responsiveLayout="stack" [breakpoint]="breakpoint" styleClass="p-datatable-striped" [columns]="columns" [value]="jobs" sortMode="multiple" selectionMode="single">
        <ng-template pTemplate="header" let-columns>
            <tr>
              <th [style]="'width: ' + columns[0].width" pSortableColumn="model.name">
                {{ columns[0].header }}
                <p-sortIcon field="model.name" />
              </th>
              <th [style]="'width: ' + columns[1].width" pSortableColumn="model.resolutions[0]">
                {{ columns[1].header }}
                <p-sortIcon field="model.resolutions[0]" />
              </th>
              <th [style]="'width: ' + columns[2].width" pSortableColumn="state">
                {{ columns[2].header }}
                <p-sortIcon field="state" />
              </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr [pSelectableRow]="rowData">
            <td><span class="p-column-title font-semibold">{{ columns[0].header }}</span>{{ rowData.model.name }}</td>
            <td><span class="p-column-title font-semibold">{{ columns[1].header }}</span>{{ rowData.model.resolutions[0] }}</td>
            <td><span class="p-column-title font-semibold">{{ columns[2].header }}</span>{{ rowData.state }}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="3" class="text-center">No jobs are currently running.</td>
          </tr>
        </ng-template>
      </p-table>
    }
  }
</p-panel>